import{S as x,i as Q,s as W,e as g,k as w,t as L,c as b,a as S,d as h,m as R,h as T,b as m,K as A,g as M,J as s,j as V,L as C,M as X,n as F,N as Y,O as Z}from"../chunks/index-5ea7147a.js";function H(p,t,o){const i=p.slice();return i[7]=t[o],i}function K(p){let t,o,i,_,d,P,a,E,y=p[7].title+"",n,u,U=p[7].date+"",I,O,k,j=p[7].medium+"",N,f,e,r,l=p[7].repository+"",B,D;return{c(){t=g("li"),o=g("div"),i=g("img"),P=w(),a=g("div"),E=g("b"),n=L(y),u=L(", "),I=L(U),O=g("br"),k=w(),N=L(j),f=g("br"),e=w(),r=g("i"),B=L(l),D=w(),this.h()},l(v){t=b(v,"LI",{});var c=S(t);o=b(c,"DIV",{id:!0,class:!0});var G=S(o);i=b(G,"IMG",{class:!0,alt:!0,src:!0}),G.forEach(h),P=R(c),a=b(c,"DIV",{id:!0,class:!0});var J=S(a);E=b(J,"B",{});var q=S(E);n=T(q,y),q.forEach(h),u=T(J,", "),I=T(J,U),O=b(J,"BR",{}),k=R(J),N=T(J,j),f=b(J,"BR",{}),e=R(J),r=b(J,"I",{});var z=S(r);B=T(z,l),z.forEach(h),J.forEach(h),D=R(c),c.forEach(h),this.h()},h(){m(i,"class","galleryItem svelte-1f3f2o6"),m(i,"alt",_="Preview of "+p[7].title),A(i.src,d=p[7].src)||m(i,"src",d),m(o,"id","image-frame"),m(o,"class","svelte-1f3f2o6"),m(a,"id","image-data"),m(a,"class","svelte-1f3f2o6")},m(v,c){M(v,t,c),s(t,o),s(o,i),s(t,P),s(t,a),s(a,E),s(E,n),s(a,u),s(a,I),s(a,O),s(a,k),s(a,N),s(a,f),s(a,e),s(a,r),s(r,B),s(t,D)},p(v,c){c&2&&_!==(_="Preview of "+v[7].title)&&m(i,"alt",_),c&2&&!A(i.src,d=v[7].src)&&m(i,"src",d),c&2&&y!==(y=v[7].title+"")&&V(n,y),c&2&&U!==(U=v[7].date+"")&&V(I,U),c&2&&j!==(j=v[7].medium+"")&&V(N,j),c&2&&l!==(l=v[7].repository+"")&&V(B,l)},d(v){v&&h(t)}}}function $(p){let t,o,i,_,d,P,a,E,y,n,u,U,I,O,k,j,N=p[1],f=[];for(let e=0;e<N.length;e+=1)f[e]=K(H(p,N,e));return{c(){t=g("form"),o=g("label"),i=L("Upload a JSON source for the images:"),_=w(),d=g("input"),P=w(),a=g("button"),E=L("Use this file"),y=w(),n=g("h1"),u=L("Gallery:"),U=w(),I=g("div"),O=g("ul");for(let e=0;e<f.length;e+=1)f[e].c();this.h()},l(e){t=b(e,"FORM",{});var r=S(t);o=b(r,"LABEL",{for:!0});var l=S(o);i=T(l,"Upload a JSON source for the images:"),l.forEach(h),_=R(r),d=b(r,"INPUT",{accept:!0,id:!0,name:!0,type:!0}),P=R(r),a=b(r,"BUTTON",{type:!0});var B=S(a);E=T(B,"Use this file"),B.forEach(h),r.forEach(h),y=R(e),n=b(e,"H1",{});var D=S(n);u=T(D,"Gallery:"),D.forEach(h),U=R(e),I=b(e,"DIV",{});var v=S(I);O=b(v,"UL",{class:!0});var c=S(O);for(let G=0;G<f.length;G+=1)f[G].l(c);c.forEach(h),v.forEach(h),this.h()},h(){m(o,"for","source-file"),m(d,"accept","application/JSON"),m(d,"id","source-file"),m(d,"name","source-file"),m(d,"type","file"),m(a,"type","submit"),m(O,"class","gallery svelte-1f3f2o6")},m(e,r){M(e,t,r),s(t,o),s(o,i),s(t,_),s(t,d),s(t,P),s(t,a),s(a,E),M(e,y,r),M(e,n,r),s(n,u),M(e,U,r),M(e,I,r),s(I,O);for(let l=0;l<f.length;l+=1)f[l].m(O,null);k||(j=[C(d,"change",p[3]),C(t,"submit",X(p[2]))],k=!0)},p(e,[r]){if(r&2){N=e[1];let l;for(l=0;l<N.length;l+=1){const B=H(e,N,l);f[l]?f[l].p(B,r):(f[l]=K(B),f[l].c(),f[l].m(O,null))}for(;l<f.length;l+=1)f[l].d(1);f.length=N.length}},i:F,o:F,d(e){e&&h(t),e&&h(y),e&&h(n),e&&h(U),e&&h(I),Y(f,e),k=!1,Z(j)}}}function ee(p,t,o){let i,_=[];_.push({src:"https://cdn.pixabay.com/photo/2014/04/13/20/49/cat-323262_1280.jpg",title:"Title 1"},{src:"https://images.pexels.com/photos/6447547/pexels-photo-6447547.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",title:"Title 2"});let d=()=>{P().then(function(n){a(n),E(),o(1,_)})},P=async()=>{let n,u=await i[0].text();return n=JSON.parse(u),n},a=n=>{o(1,_=[]),n.items.forEach(u=>{u.isBestOf==!0&&_.push({src:u.images.overall.images[0].sizes.medium.src,title:u.metadata.title,date:u.metadata.date,medium:u.medium,repository:u.repository,sortingPosition:u.sortingInfo.position})})},E=()=>{_.sort((n,u)=>n.sortingPosition-u.sortingPosition)};function y(){i=this.files,o(0,i)}return[i,_,d,y]}class le extends x{constructor(t){super(),Q(this,t,ee,$,W,{})}}export{le as default};
